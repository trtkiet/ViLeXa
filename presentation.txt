% Vietnamese Law Assistant - Presentation Slides
% Course: CS311.Q11 - Ky thuat lap trinh tri tue nhan tao
% University: UIT - DHQG TP.HCM

\documentclass[aspectratio=169]{beamer}
\usetheme{Madrid}
\usecolortheme{default}

% Packages
\usepackage[utf8]{inputenc}
\usepackage{tikz}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{xcolor}

% TikZ Libraries
\usetikzlibrary{shapes.geometric, arrows.meta, positioning, calc}

% Colors
\definecolor{primary}{RGB}{37, 99, 235}
\definecolor{secondary}{RGB}{16, 185, 129}
\definecolor{accent}{RGB}{245, 158, 11}
\definecolor{dark}{RGB}{30, 41, 59}

% Remove navigation
\setbeamertemplate{navigation symbols}{}

% Title Info
\title[VN Law Assistant]{\textbf{Vietnamese Law Assistant}}
\subtitle{He thong Tra cuu va Tu van Phap luat Viet Nam}
\author{
    \textbf{Nguyen My Thong} - 23521527 \\
    \textbf{Tran Tuan Kiet} - 23520822
}
\institute[UIT]{
    CS311.Q11 - Ky thuat lap trinh tri tue nhan tao \\
    Truong Dai hoc Cong nghe Thong tin - DHQG TP.HCM
}
\date{\today}

\begin{document}

% ===== TITLE =====
\begin{frame}
    \titlepage
\end{frame}

% ===== OUTLINE =====
\begin{frame}{Noi dung trinh bay}
    \tableofcontents
\end{frame}

% ==========================================
\section{Bai toan}
% ==========================================

\begin{frame}{Van de thuc te}
    \begin{columns}[T]
        \begin{column}{0.5\textwidth}
            \textbf{\large Thach thuc:}
            \begin{itemize}
                \item \textbf{20,000+} van ban phap luat
                \item Tim kiem thu cong \textbf{mat thoi gian}
                \item Ngon ngu phap ly \textbf{kho hieu}
                \item Nguoi dan \textbf{thieu kien thuc} phap luat
            \end{itemize}
        \end{column}
        \begin{column}{0.5\textwidth}
            \begin{center}
            \begin{tikzpicture}[scale=0.8]
                % Documents stack
                \foreach \i in {0,0.15,0.3} {
                    \draw[fill=gray!20, draw=dark] (\i, -\i) rectangle (3+\i, 3-\i);
                }
                % Lines on document
                \foreach \y in {2.5, 2.2, 1.9, 1.6, 1.3, 1.0} {
                    \draw[gray] (0.4, \y) -- (2.6, \y);
                }
                % Person with question
                \draw[fill=primary!30] (5, 1.5) circle (0.5);
                \draw[thick] (5, 0.8) -- (5, 0);
                \draw[thick] (5, 0.6) -- (4.5, 0.2);
                \draw[thick] (5, 0.6) -- (5.5, 0.2);
                \node[text=accent, scale=1.5] at (5.8, 2.2) {?};
            \end{tikzpicture}
            \end{center}
        \end{column}
    \end{columns}

    \vspace{0.5cm}
    \begin{block}{Nhu cau}
        He thong \textbf{tu dong} tra loi cau hoi phap luat bang ngon ngu \textbf{de hieu}
    \end{block}
\end{frame}

\begin{frame}{Muc tieu du an}
    \begin{center}
    \begin{tikzpicture}[
        box/.style={rectangle, draw=dark, fill=#1, rounded corners, minimum width=2.5cm, minimum height=1cm, align=center},
        arr/.style={-{Stealth[length=3mm]}, thick}
    ]
        % User question
        \node[box=accent!20] (q) at (0,0) {Cau hoi\\nguoi dung};

        % AI System
        \node[box=primary!20, minimum width=3cm] (ai) at (5,0) {AI Assistant\\RAG Pipeline};

        % Answer
        \node[box=secondary!20, minimum width=3.5cm] (a) at (10.5,0) {Tra loi + Trich dan\\Dieu, Khoan, Diem};

        % Arrows
        \draw[arr] (q) -- (ai);
        \draw[arr] (ai) -- (a);
    \end{tikzpicture}
    \end{center}

    \vspace{0.8cm}
    \begin{columns}[T]
        \begin{column}{0.33\textwidth}
            \centering
            \textcolor{primary}{\textbf{Hoi dap tu nhien}}\\
            \small Chatbot AI
        \end{column}
        \begin{column}{0.33\textwidth}
            \centering
            \textcolor{secondary}{\textbf{Tra cuu van ban}}\\
            \small Tim kiem thong minh
        \end{column}
        \begin{column}{0.33\textwidth}
            \centering
            \textcolor{accent}{\textbf{Trich dan nguon}}\\
            \small Dieu, Khoan, Diem
        \end{column}
    \end{columns}
\end{frame}

% ==========================================
\section{Giai phap}
% ==========================================

\begin{frame}{Kien truc tong quan}
    \begin{center}
    \begin{tikzpicture}[
        layer/.style={rectangle, draw=dark, fill=#1, rounded corners, minimum width=10cm, minimum height=1cm, align=center},
        db/.style={cylinder, draw=dark, fill=#1, shape border rotate=90, aspect=0.3, minimum height=1.2cm, minimum width=1.5cm, align=center},
        arr/.style={-{Stealth[length=2mm]}, thick}
    ]
        % Frontend
        \node[layer=primary!15] (fe) at (0, 3) {\textbf{Frontend} - React + TypeScript};

        % Backend
        \node[layer=secondary!15] (be) at (0, 1.5) {\textbf{Backend} - FastAPI + Python};

        % AI Layer
        \node[layer=accent!15] (ai) at (0, 0) {\textbf{AI/ML} - RAG Pipeline (Embedding + Retrieval + LLM)};

        % Databases
        \node[db=purple!15] (qdrant) at (-3, -2) {\tiny Qdrant};
        \node[below=0.1cm of qdrant, font=\tiny] {Vector DB};

        \node[db=gray!20] (sqlite) at (0, -2) {\tiny SQLite};
        \node[below=0.1cm of sqlite, font=\tiny] {User Data};

        \node[db=blue!15] (docs) at (3, -2) {\tiny Docs};
        \node[below=0.1cm of docs, font=\tiny] {20K+ Laws};

        % Arrows
        \draw[arr] (fe) -- (be);
        \draw[arr] (be) -- (ai);
        \draw[arr] (ai) -- (qdrant);
        \draw[arr] (ai) -- (sqlite);
        \draw[arr] (ai) -- (docs);
    \end{tikzpicture}
    \end{center}
\end{frame}

% ==========================================
\section{RAG Pipeline}
% ==========================================

\begin{frame}{RAG - Retrieval-Augmented Generation}
    \begin{center}
    \begin{tikzpicture}[
        box/.style={rectangle, draw=dark, fill=#1, rounded corners, minimum width=2cm, minimum height=0.9cm, align=center, font=\small},
        arr/.style={-{Stealth[length=2mm]}, thick}
    ]
        % Pipeline steps
        \node[box=accent!20] (q) at (0, 0) {Cau hoi};
        \node[box=primary!20] (emb) at (3, 0) {Embedding\\{\tiny GTE Model}};
        \node[box=purple!20] (ret) at (6, 0) {Retrieval\\{\tiny Qdrant}};
        \node[box=gray!20] (ctx) at (9, 0) {Context\\{\tiny Top-K}};
        \node[box=blue!20] (llm) at (12, 0) {Gemini\\{\tiny LLM}};

        % Arrows
        \draw[arr] (q) -- (emb);
        \draw[arr] (emb) -- (ret);
        \draw[arr] (ret) -- (ctx);
        \draw[arr] (ctx) -- (llm);

        % Vector DB below
        \node[cylinder, draw=dark, fill=purple!10, shape border rotate=90, aspect=0.4, minimum height=1.5cm] (vdb) at (4.5, -2) {\tiny Vectors};
        \draw[arr, dashed] (emb) -- (vdb);
        \draw[arr, dashed] (vdb) -- (ret);

        % Labels
        \node[font=\tiny, primary] at (1.5, 0.7) {1. Encode};
        \node[font=\tiny, purple] at (4.5, 0.7) {2. Search};
        \node[font=\tiny, gray] at (7.5, 0.7) {3. Rank};
        \node[font=\tiny, blue] at (10.5, 0.7) {4. Generate};
    \end{tikzpicture}
    \end{center}

    \vspace{0.3cm}
    \begin{block}{Tai sao RAG?}
        \begin{itemize}
            \item LLM \textbf{khong biet} luat Viet Nam cu the
            \item RAG = Truy xuat tai lieu \textbf{thuc} + Sinh cau tra loi
            \item Dam bao cau tra loi co \textbf{can cu phap ly}
        \end{itemize}
    \end{block}
\end{frame}

\begin{frame}{Hybrid Search - Tim kiem lai}
    \begin{columns}[T]
        \begin{column}{0.5\textwidth}
            \begin{block}{Dense Embedding (Ngu nghia)}
                \begin{itemize}
                    \item Vector 768 chieu
                    \item Cosine similarity
                    \item ``nghi phep'' $\approx$ ``ngay nghi''
                \end{itemize}
            \end{block}
            \begin{center}
            \begin{tikzpicture}[scale=0.5]
                \draw[->, thick, primary] (0,0) -- (2, 1.5);
                \draw[->, secondary] (0,0) -- (2.1, 1.3);
                \draw[->, gray] (0,0) -- (0.5, 2);
                \draw[dashed, primary!30] (0,0) circle (2.2);
                \node[font=\tiny] at (2.5, 1.5) {Query};
                \node[font=\tiny] at (2.6, 1.1) {Doc1};
            \end{tikzpicture}
            \end{center}
        \end{column}

        \begin{column}{0.5\textwidth}
            \begin{block}{Sparse Embedding (Tu khoa)}
                \begin{itemize}
                    \item Token weights
                    \item Exact match
                    \item ``Dieu 113'' = ``Dieu 113''
                \end{itemize}
            \end{block}
            \begin{center}
            \begin{tikzpicture}[scale=0.5]
                \foreach \x/\h in {0/1.5, 0.6/0.3, 1.2/2, 1.8/0.5, 2.4/1.8} {
                    \fill[purple!60] (\x, 0) rectangle (\x+0.4, \h);
                }
                \draw[->] (-0.2, 0) -- (3.2, 0);
                \draw[->] (0, -0.2) -- (0, 2.5);
                \node[font=\tiny] at (1.5, -0.5) {Token IDs};
            \end{tikzpicture}
            \end{center}
        \end{column}
    \end{columns}

    \vspace{0.5cm}
    \begin{center}
        \textbf{Dense + Sparse = Hybrid Search} (Ket hop ca 2)
    \end{center}
\end{frame}

\begin{frame}{Embedding Model - GTE Multilingual}
    \begin{columns}[T]
        \begin{column}{0.5\textwidth}
            \begin{center}
            \begin{tikzpicture}[
                box/.style={rectangle, draw=dark, fill=#1, rounded corners, minimum width=3.5cm, minimum height=0.8cm, align=center},
                arr/.style={-{Stealth[length=2mm]}, thick}
            ]
                \node[box=gray!20] (input) at (0, 2) {``Quyen nghi phep...''};
                \node[box=primary!20, minimum height=1.5cm] (gte) at (0, 0) {\textbf{GTE Model}\\{\tiny Alibaba-NLP}};
                \node[box=secondary!20] (dense) at (-2, -2) {Dense\\{\tiny [0.12, ...]}};
                \node[box=purple!20] (sparse) at (2, -2) {Sparse\\{\tiny \{142: 0.8\}}};

                \draw[arr] (input) -- (gte);
                \draw[arr] (gte) -- (dense);
                \draw[arr] (gte) -- (sparse);
            \end{tikzpicture}
            \end{center}
        \end{column}

        \begin{column}{0.5\textwidth}
            \begin{block}{Dac diem}
                \begin{itemize}
                    \item Ho tro tieng Viet
                    \item 768 dimensions
                    \item Dual encoder (Dense + Sparse)
                    \item GPU optimized
                    \item Max 8192 tokens
                \end{itemize}
            \end{block}
        \end{column}
    \end{columns}
\end{frame}

% ==========================================
\section{Xu ly du lieu}
% ==========================================

\begin{frame}{Cau truc van ban phap luat Viet Nam}
    \begin{columns}[T]
        \begin{column}{0.5\textwidth}
            \begin{center}
            \begin{tikzpicture}[
                level/.style={rectangle, draw=dark, fill=#1, rounded corners, minimum width=3cm, minimum height=0.7cm, align=center}
            ]
                \node[level=primary!30] (p) at (0, 4) {\textbf{PHAN I}};
                \node[level=primary!20] (c) at (0, 3) {\textbf{Chuong I}};
                \node[level=primary!10] (m) at (0, 2) {\textbf{Muc 1}};
                \node[level=secondary!20] (d) at (0, 1) {\textbf{Dieu 5}};
                \node[level=secondary!10] (k) at (0, 0) {\textbf{Khoan 1}};
                \node[level=gray!20] (di) at (0, -1) {\textbf{Diem a}};

                \draw[->, thick, gray] (p) -- (c);
                \draw[->, thick, gray] (c) -- (m);
                \draw[->, thick, gray] (m) -- (d);
                \draw[->, thick, gray] (d) -- (k);
                \draw[->, thick, gray] (k) -- (di);
            \end{tikzpicture}
            \end{center}
        \end{column}

        \begin{column}{0.5\textwidth}
            \begin{block}{Hierarchical Chunking}
                \begin{itemize}
                    \item Giu nguyen cau truc phan cap
                    \item Moi chunk = 1 don vi logic
                    \item Metadata day du
                \end{itemize}
            \end{block}

            \vspace{0.3cm}
            \begin{exampleblock}{Metadata}
                \small
                \texttt{law\_id: "101873"}\\
                \texttt{chapter: "Chuong I"}\\
                \texttt{article: "Dieu 5"}\\
                \texttt{clause: "1"}
            \end{exampleblock}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}{Data Pipeline}
    \begin{center}
    \begin{tikzpicture}[
        box/.style={rectangle, draw=dark, fill=#1, rounded corners, minimum width=2.5cm, minimum height=1cm, align=center},
        arr/.style={-{Stealth[length=2mm]}, thick}
    ]
        \node[box=gray!20] (raw) at (0, 0) {JSON Files\\{\tiny 20K+ docs}};
        \node[box=accent!20] (chunk) at (4, 0) {Chunking\\{\tiny Hierarchical}};
        \node[box=primary!20] (embed) at (8, 0) {Embedding\\{\tiny GTE Model}};
        \node[box=purple!20] (store) at (12, 0) {Qdrant\\{\tiny Vectors}};

        \draw[arr] (raw) -- node[above, font=\tiny] {Load} (chunk);
        \draw[arr] (chunk) -- node[above, font=\tiny] {Split} (embed);
        \draw[arr] (embed) -- node[above, font=\tiny] {Upload} (store);
    \end{tikzpicture}
    \end{center}

    \vspace{0.5cm}
    \begin{columns}[T]
        \begin{column}{0.5\textwidth}
            \begin{block}{Nguon du lieu}
                \begin{itemize}
                    \item Cong thong tin phap luat
                    \item 20,410 van ban
                    \item 8 loai van ban
                \end{itemize}
            \end{block}
        \end{column}
        \begin{column}{0.5\textwidth}
            \begin{block}{Vector Database}
                \begin{itemize}
                    \item Qdrant - Hybrid mode
                    \item Dense + Sparse vectors
                    \item Sub-100ms retrieval
                \end{itemize}
            \end{block}
        \end{column}
    \end{columns}
\end{frame}

% ==========================================
\section{Tinh nang he thong}
% ==========================================

\begin{frame}{Tinh nang chinh}
    \begin{columns}[T]
        \begin{column}{0.33\textwidth}
            \begin{block}{Chat AI}
                \begin{itemize}
                    \item Hoi dap tu nhien
                    \item Luu lich su
                    \item Multi-session
                \end{itemize}
            \end{block}
        \end{column}
        \begin{column}{0.33\textwidth}
            \begin{block}{Tra cuu}
                \begin{itemize}
                    \item Tim kiem van ban
                    \item Loc theo loai
                    \item Pagination
                \end{itemize}
            \end{block}
        \end{column}
        \begin{column}{0.33\textwidth}
            \begin{block}{Trich dan}
                \begin{itemize}
                    \item Nguon chinh xac
                    \item Link den van ban
                    \item Xuat PDF
                \end{itemize}
            \end{block}
        \end{column}
    \end{columns}

    \vspace{0.5cm}
    \begin{block}{Bao mat}
        \begin{itemize}
            \item Xac thuc JWT Token
            \item Luu tru SQLite
            \item Session management
        \end{itemize}
    \end{block}
\end{frame}

\begin{frame}{Demo - Giao dien Chat}
    \begin{center}
    \begin{tikzpicture}[scale=0.7]
        % Window frame
        \draw[rounded corners, fill=white, draw=dark, thick] (0, 0) rectangle (14, 8);

        % Header
        \fill[primary!20, rounded corners] (0.3, 7.2) rectangle (13.7, 7.7);
        \node[font=\small\bfseries] at (7, 7.45) {Vietnamese Law Assistant};

        % Sidebar
        \fill[gray!10, rounded corners] (0.3, 0.3) rectangle (3.5, 7);
        \node[font=\tiny\bfseries] at (1.9, 6.7) {Sessions};
        \draw[gray] (0.5, 6.4) rectangle (3.3, 6);
        \node[font=\tiny] at (1.9, 6.2) {Quyen lao dong};

        % User message
        \fill[primary!10, rounded corners] (4, 5.5) rectangle (10, 6.5);
        \node[font=\tiny, text width=5.5cm] at (7, 6) {Quyen nghi phep cua nguoi lao dong?};

        % AI response
        \fill[secondary!10, rounded corners] (4, 2.5) rectangle (13.5, 5.2);
        \node[font=\tiny, text width=8.5cm, align=left] at (8.75, 4) {
            Theo \textbf{Dieu 113 Bo luat Lao dong}:\\
            - Nghi 12 ngay lam viec/nam\\
            - Tang theo tham nien
        };
        \node[font=\tiny, primary] at (6, 2.8) {[Xem nguon]};

        % Input box
        \draw[gray, rounded corners] (4, 0.5) rectangle (12.5, 1.3);
        \node[font=\tiny, gray] at (8, 0.9) {Nhap cau hoi...};
        \fill[primary, rounded corners] (12.7, 0.6) rectangle (13.4, 1.2);
    \end{tikzpicture}
    \end{center}
\end{frame}

% ==========================================
\section{Cong nghe su dung}
% ==========================================

\begin{frame}{Tech Stack}
    \begin{center}
    \begin{tabular}{lll}
        \toprule
        \textbf{Layer} & \textbf{Technology} & \textbf{Purpose} \\
        \midrule
        Frontend & React, TypeScript & User Interface \\
                 & TailwindCSS & Styling \\
        \midrule
        Backend & FastAPI & REST API \\
                & SQLAlchemy & ORM \\
                & JWT & Authentication \\
        \midrule
        AI/ML & Google Gemini & LLM Generation \\
              & GTE Multilingual & Embeddings \\
              & LangChain & RAG Framework \\
        \midrule
        Database & Qdrant & Vector Store \\
                 & SQLite & User Data \\
        \midrule
        Infra & Docker & Containerization \\
              & NVIDIA GPU & Acceleration \\
        \bottomrule
    \end{tabular}
    \end{center}
\end{frame}

% ==========================================
\section{Ket qua va Huong phat trien}
% ==========================================

\begin{frame}{Ket qua dat duoc}
    \begin{columns}[T]
        \begin{column}{0.5\textwidth}
            \begin{block}{Performance}
                \begin{itemize}
                    \item Response time: \textbf{2-6 giay}
                    \item Retrieval: \textbf{<100ms}
                    \item Documents: \textbf{20,410}
                \end{itemize}
            \end{block}
        \end{column}
        \begin{column}{0.5\textwidth}
            \begin{block}{Features}
                \begin{itemize}
                    \item RAG Pipeline hoan chinh
                    \item Hybrid Search hieu qua
                    \item Trich dan nguon chinh xac
                    \item Docker deployment
                \end{itemize}
            \end{block}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}{Huong phat trien}
    \begin{columns}[T]
        \begin{column}{0.5\textwidth}
            \begin{block}{Ngan han}
                \begin{itemize}
                    \item Fine-tuning Legal LLM
                    \item Voice input (Speech-to-text)
                    \item Mobile app (React Native)
                \end{itemize}
            \end{block}
        \end{column}
        \begin{column}{0.5\textwidth}
            \begin{block}{Dai han}
                \begin{itemize}
                    \item Analytics dashboard
                    \item Multi-language support
                    \item Cloud deployment
                \end{itemize}
            \end{block}
        \end{column}
    \end{columns}

    \vspace{0.8cm}
    \begin{center}
    \begin{tikzpicture}[
        box/.style={rectangle, draw=dark, fill=#1, rounded corners, minimum width=2.5cm, minimum height=0.8cm, align=center},
        arr/.style={-{Stealth[length=2mm]}, thick}
    ]
        \node[box=secondary!30] (now) at (0,0) {\textbf{MVP}};
        \node[box=primary!20] (v2) at (4,0) {\textbf{v2.0}};
        \node[box=accent!20] (prod) at (8,0) {\textbf{Production}};
        \draw[arr] (now) -- (v2);
        \draw[arr] (v2) -- (prod);
    \end{tikzpicture}
    \end{center}
\end{frame}

% ===== THANK YOU =====
\begin{frame}
    \begin{center}
        \Huge\textbf{Cam on!}

        \vspace{1cm}
        \Large\textcolor{primary}{Q \& A}

        \vspace{1cm}
        \normalsize
        \begin{tabular}{ll}
            Email: & 23521527@gm.uit.edu.vn \\
                   & 23520822@gm.uit.edu.vn \\
        \end{tabular}
    \end{center}
\end{frame}

\end{document}
